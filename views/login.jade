doctype html5


html
  head
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3' crossorigin='anonymous')
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js' integrity='sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13' crossorigin='anonymous')
    meta(charset='UTF-8')
    title Fon1us
    link(rel='stylesheet' href='/stylesheets/style.css')
    script(src='https://code.jquery.com/jquery-3.6.0.min.js')
  body
    .container2
      .jumbotron
        br
        input#name.form-control(placeholder='Name' type='text' name='name')
        br
        input#password.form-control(placeholder='Password' type='text' name='password')
        br
        input#login.btn.btn-light(type='submit' value='Continue')
        br
        button#registr.btn.btn-link.btn-sm(type='button') Registr
        button#forgotPassword.btn.btn-link.btn-sm(type='button') Forgot your password?
    .container1
      .jumbotron
        p Fon1us
    #enterPasswordOrLogin(class="modal fade")
      div(class="modal-dialog")
        div(class="modal-content")
          div(class="modal-header")
            input(class="modal-title" name="message" id="messageId" value="")
    
    script.
      $("#registr").click(() => {
        window.location.replace('/registr');
      })
      $("#forgotPassword").click(() => {
        window.location.replace('/forgotPassword');
      })
      $("#login").click(() => {
        $.ajax({
          url: '/login',
          type: 'POST',
          data: {
            name: $("#name").val(),
            password: $("#password").val()
          },
          success: (data) => {
            if(data.success == false) {
              $("#enterPasswordOrLogin").modal('show');
              $("#messageId").val(data.message);
            } else {
              window.location.replace('/');
            }
          }
        });
      })
